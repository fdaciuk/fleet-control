define(["react","lodash"],function(e,a){"use strict";var l=function(){var l={},o={};return l.getInitialState=function(){return{imagem:"",marca:"",modelo:"",placa:"",cor:"",combustivel:""}},l.componentWillReceiveProps=function(e){this.setState(e.itemToEdit)},l.render=function(){var l=this.state;return e.DOM.div({className:"col-md-12 "+this.props.showOrHide},e.DOM.h2(null,"Cadastrar novo veículo"),e.DOM.form({onSubmit:a.bind(o.handleSubmitForm,this),role:"form",ref:"formVehicle",className:"form-vehicle"},e.DOM.div({className:"form-group col-md-6"},e.DOM.label({htmlFor:"fv-image"},"Imagem"),e.DOM.input({type:"url",ref:"image","data-name":"imagem",id:"fv-image",onChange:a.bind(o.handleChange,this),value:l.imagem,className:"form-control"}),e.DOM.p({className:"help-block"},"URL da imagem do automóvel.")),e.DOM.div({className:"form-group col-md-3"},e.DOM.label({htmlFor:"fv-mark"},"Marca *"),e.DOM.input({type:"text",required:!0,ref:"mark","data-name":"marca",id:"fv-mark",onChange:a.bind(o.handleChange,this),value:l.marca,className:"form-control"}),e.DOM.p({className:"help-block"}," ")),e.DOM.div({className:"form-group col-md-3"},e.DOM.label({htmlFor:"fv-model"},"Modelo *"),e.DOM.input({type:"text",required:!0,ref:"model","data-name":"modelo",id:"fv-model",onChange:a.bind(o.handleChange,this),value:l.modelo,className:"form-control"}),e.DOM.p({className:"help-block"}," ")),e.DOM.div({className:"form-group col-md-3"},e.DOM.label({htmlFor:"fv-plate"},"Placa *"),e.DOM.input({type:"text",required:!0,ref:"plate","data-name":"placa",id:"fv-plate",onChange:a.bind(o.handleChange,this),value:l.placa,className:"form-control"})),e.DOM.div({className:"form-group col-md-3"},e.DOM.label({htmlFor:"fv-color"},"Cor"),e.DOM.input({type:"text",ref:"color","data-name":"cor",id:"fv-color",onChange:a.bind(o.handleChange,this),value:l.cor,className:"form-control"})),e.DOM.div({className:"form-group col-md-4"},e.DOM.label({htmlFor:"fv-fuel"},"Combustível"),e.DOM.select({ref:"fuel","data-name":"combustivel",id:"fv-fuel",onChange:a.bind(o.handleChange,this),value:l.combustivel,className:"form-control"},e.DOM.option({value:"Gasolina"},"Gasolina"),e.DOM.option({value:"Alcool"},"Alcool"),e.DOM.option({value:"Flex"},"Flex"))),e.DOM.div({className:"form-group col-md-2"},e.DOM.label({className:"col-md-12"}," "),e.DOM.button({type:"submit",className:"btn btn-success pull-right"},"Salvar ",e.DOM.span({className:"glyphicon glyphicon-ok"})))))},o.handleChange=function(e){var a=e.target.value,l=e.target.getAttribute("data-name"),o={};o[l]=a,this.setState(o)},o.handleSubmitForm=function(e){e.preventDefault();var a=["image","mark","model","plate","color","fuel"],l=o.getValue.call(this,a),t=o.createNewVehicle(l);this.setState({imagem:"",marca:"",modelo:"",placa:"",cor:"",combustivel:""}),this.props.onAddNewVehicle(t)},o.getValue=function(e){for(var a=[],l=e.length;l--;)a[e[l]]=this.refs[e[l]].getDOMNode().value;return a.reverse()},o.createNewVehicle=function(e){return{combustivel:e.fuel,imagem:e.image,marca:e.mark,modelo:e.model,placa:e.plate,cor:e.color}},l};return e.createClass(l())});